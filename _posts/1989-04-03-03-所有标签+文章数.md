---
layout: post
title: 所有标签+文章数
tags: Tag代码
categories: Blog
---

## 所有标签+文章数
\~\~
 {% raw %}
<ul class="tags">
{% for tag in site.tags %}
  {% assign t = tag | first %}
  {% assign posts = tag | last %}
  <li>{{t | downcase | replace:" ","-" }} has {{ posts | size }} posts</li>
{% endfor %}
</ul>
{% endraw %}
\~\~\~
{: .language-ruby}



这代码是 写在 模板文件中的.
也就是 include 目录下的某个文件中的.


所以 要循环的话 首先 要从 site.tags 的 site开始.
因为 模板文件 也算根站点 文件的..


**assign **
是给变量赋值的意思....

**tag|first**  把 遍历出来的第一个标签 存到变量 t中.
**tag|last**  把遍历出来的最后一个标签 存到变量 posts 中

li 里面的 就是显示出来的内容.

**t | downcase **  所有标签字母都变成小写. 
**标签里面的空格 替换成-**
**posts | size**
这里posts 是数组???  tag first既然是个标签...
tag last 应该也是个标签啊...
或者 tag 里面包含了很多数据.. 只是标签名开头的把...


## size
放回字符串的长度.  或者数组的个数....





\~\~
 {% raw %}
Listing all Tags
<ul class="tags">
{% for tag in site.tags %}
  {% assign t = tag | first %}
  {% assign posts = tag | last %}
  <li>{{t | downcase | replace:" ","-" }} has {{ posts | size }} posts</li>
{% endfor %}
</ul>
{% endraw %}
~~~
{: .language-ruby}






~~
 {% raw %}
Listing all Tags and the posts containing that Tag

{% for tag in site.tags %}
  {% assign t = tag | first %}
  {% assign posts = tag | last %}

{{ t | downcase }}
<ul>
{% for post in posts %}
  {% if post.tags contains t %}
  <li>
    <a href="{{ post.url }}">{{ post.title }}</a>
    <span class="date">{{ post.date | date: "%B %-d, %Y"  }}</span>
  </li>
  {% endif %}
{% endfor %}
</ul>
{% endfor %}
{% endraw %}
~~~
{: .language-ruby}


