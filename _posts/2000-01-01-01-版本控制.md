---
layout: post
title: 版本控制
tags: -Git
categories: Tool
---


**Git 最流行的版本管理系统.开发必备技.**


## 主要命令
- git clone
- git remote
- git fetch
- git pull
- git push



## 一: git clone
一般都是从远程仓库克隆一个版本库开始的.
就是是新建.也一般先从远程新建.然后clone

### git clone 语法:
	git clone 版本库地址
	git clone https://github.com/jquery/jquery.git
	这样会把在本地新建一个和远程一样的项目名文件夹.
	
	git clone <版本库的网址> <本地目录名>
	这样就可以自定义本地的文件夹名了.不必和远程一样

### git clone 支持协议
http/https,ssh,git 等等...
	$ git clone http[s]://example.com/path/to/repo.git/
	$ git clone ssh://example.com/path/to/repo.git/
	$ git clone git://example.com/path/to/repo.git/
	$ git clone /opt/git/project.git 
	$ git clone file:///opt/git/project.git
	$ git clone ftp[s]://example.com/path/to/repo.git/
	$ git clone rsync://example.com/path/to/repo.git/

**SSH 另一种写法(coding 用的.....)**
**SSH 另一种写法(coding 用的.....)**
	git clone [user@]example.com:path/to/repo.git/






## 二: git remote
管理远程主机的.也就是要 同步文件到哪里.
可以是github, 可以是coding,也可以同时同步到GitHub和coding.

### 示例:
一个 fork 别人的项目.
	➜  jekyllthemes git:(master) ✗ git remote -v
	mattvh	https://github.com/mattvh/jekyllthemes.git (fetch)
	mattvh	https://github.com/mattvh/jekyllthemes.git (push)
	origin	https://github.com/Xu-Jian/jekyllthemes.git (fetch)
	origin	https://github.com/Xu-Jian/jekyllthemes.git (push)
克隆版本库的时候 远程主机会被自动命名成 origin

### 显示远程主机
	➜  2017 git:(master) ✗ git remote show
	Coding
	Github
	Github&Coding

### 添加远程主机
1. 命令方式添加
	git remote add <主机名> <网址>
2. 直接修改项目下的 .git/config 文件.
3. 
### 删除远程主机
	git remote rm <主机名>

### 重命名远程主机
	git remote rename <原主机名> <新主机名>






## 三: git fetch

git里的更新叫 commit
一旦远程主机版本库有了更新.需要把更新取回本地.
	git fetch <远程主机名>
**一般都是 多人开发.查看别人开发进程用的**
**取回的代码对本地开发没有影响!!!!!!**

默认取回所有分支(branch)的更新
也可以取回指定分支 如 master
	$ git fetch origin master
在本地主机上要用"远程主机名/分支名"的形式读取。
比如origin主机的master，就要用origin/master读取






## 四: git pull
**取回某分支.再与本地指定分支合并**
	git pull <远程主机名> <远程分支名>:<本地分支名>

### git pull示例:
1. 取回origin主机的next分支，与本地的master分支合并.
	git pull origin next:master

2. 远程分支与当前分支合并: 冒号后面可省略
	git pull origin next
取回origin/next分支，再与当前分支合并。
实质上，这等同于先做git fetch，再做git merge。




## 五: git push
本地更新推送到远程主机.


如果当前分支只有一个追踪分支，那么主机名都可以省略。
	git push



### 一分支多主机
-u 指定一个默认主机.
	git push -u origin master
不带任何参数的git push,默认只推送当前分支，这叫做simple方式。


#### 推送当前分支到所有主机
	git push --all origin
将所有本地分支都推送到origin主机

如果远程主机的版本比本地版本更新，推送时Git会报错.
要求先在本地做git pull合并差异，然后再推送到远程主机。
这时，如果你一定要推送，可以使用--force选项。
	git push --force origin 
结果导致远程主机上更新的版本被覆盖。
除非你很确定要这样做，否则应该尽量避免使用--force选项。










## apply/save stash
stash 贮藏













































## Github
###### 版本控制工具 最佳写作平台

- 版本控制软件: 

	每次文件修改,一旦提交(commit),再 sync 之后. 就完全不用担心数据丢失了.

- 文件状态: 
	- modified 已修改,但没有保存; 
	- committed 已提交,且安全保存在本地数据库中;
	- sync: 才是把本地的 同步到Git网站.

- 安装方法: 图形化客户端(更新慢) / shell 终端(更新最快)


# 桌面软件: Github desktop
  
新建仓库 → Finder 中打开仓库文件夹 → 添加/修改文件 
Commit(提交修改, 全保存在本地数据库)  → 同步到Git网站.

删除仓库: Github 网站 → 仓库 →  设置 → 删除 

编辑文件: Ulysses 编辑 → guihub 客户端 → 先提交 commiter 再 push....

克隆仓库(完整下载别人的仓库…): 先安装本地客户端 → 去网页 → 选项目 → 克隆到本地. 


# Shell 用法: 未测.

 新建文件夹 → cd 新文件夹  → git init 来建立新的仓库

分支: brand
获取: fetch
合并: merge

# 储存大文件:   直接放文件夹 同步就可以了

经典教程 
1. [http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000][1]

2. [http://backlogtool.com/git-guide/cn/][2]



http://git-scm.com/book/zh 这书 必看. 
 

安装好之后, 就可以使用 命令行的git工具了 还有个图形界面的 git项目管理工具.
 
初次运行git前 的 配置. 也就是配置git工作环境.
 
第一个要配置的 就是你个人用户 名称 和电子邮件. 每次git提交都会用这两条信息,说明谁提交了更新, 永久纳入历史更新.
 
设置默认文件编辑器, 一般用 vim
 
查看已有的配置信息 git config --list 命令.
 
 
http://zuyunfei.com/2013/04/10/setup-github-ssh-key/ ssh 链接github教程
 
 

新建项目 教程 网页登录 http://www.jianshu.com/p/df7ce9f3a5cb  
建好之后 会自动跳转到 新建项目的主页 主页的右下角 有个clone in desktop
就是克隆到 本地电脑的意思 会自动打开本地电脑的github软件 你选一个要存储的文件夹 就好了.
 
再就是 添加代码 再上传 git add git push 的事情了
 
 
学习 config 命令 git help config
 
新建好项目后 电脑 用户名下 就有个 github 文件夹了
里面就有 你 克隆 下来的全部项目.
 
如果你要给某个开源项目出力 先把该项目的 git仓库复制一份出来
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  

[1]:	http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000
[2]:	http://backlogtool.com/git-guide/cn/